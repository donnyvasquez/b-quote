"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6735],{6735:(j,p,r)=>{r.r(p),r.d(p,{BusinessQuoteComponent:()=>D});var c=r(177),f=r(4341),a=r(9465),e=r(3953),g=r(1136),C=r(8132);const _=["swiper"],m=i=>({"swiper-pager-active":i});function b(i,s){if(1&i){const o=e.RV6();e.j41(0,"swiper-slide",3)(1,"app-insured-business-card",4),e.bIt("birthDateChange",function(n){e.eBV(o);const l=e.XpG();return e.Njj(l.onBirthDateChange(n))})("removeCard",function(n){e.eBV(o);const l=e.XpG();return e.Njj(l.onRemoveSlide(n))}),e.k0s()()}if(2&i){const o=s.$implicit,t=s.index,n=e.XpG();e.R7$(),e.Y8G("persona",o)("idNumber",t)("insuredLength",n.insured.length)("selectedBirthDate",n.selectedBirthDate[t])("relationshipOptions",n.relationshipOptions)("removeCardButton",n.showRemoveButton&&0!==t)}}let h=(()=>{var i;class s{constructor(t){this.renderer=t,this.insured=[],this.selectedBirthDate=[],this.relationshipOptions=[],this.showRemoveButton=!0,this.swiperConfig={},this.addSlide=new e.bkB,this.removeSlide=new e.bkB,this.birthDateChange=new e.bkB,this.defaultSwiperConfig={grabCursor:!0,centeredSlides:!1,slidesPerView:"auto",slidesToScroll:1,loop:!1,spaceBetween:15}}ngAfterViewInit(){console.warn(this.slideConfig),this.initSwiper()}focusLastSlide(){setTimeout(()=>{const t=this.slideComponents.toArray();t.length>0&&t[t.length-1].focus(),this.swiper&&(this.swiper.update(),this.swiper.slideTo(this.insured.length-1))})}ngOnChanges(t){t.insured&&!t.insured.firstChange&&setTimeout(()=>{this.swiper&&this.swiper.update()})}initSwiper(){const t={...this.defaultSwiperConfig,...this.swiperConfig};this.swiper=new C.S(this.swiperElement.nativeElement,t)}get slideConfig(){return{...this.defaultSwiperConfig,...this.swiperConfig}}onAddSlide(){this.addSlide.emit(),setTimeout(()=>{this.swiper&&this.swiper.update()})}onRemoveSlide(t){this.removeSlide.emit(t),setTimeout(()=>{this.swiper&&this.swiper.update()})}onBirthDateChange(t){this.birthDateChange.emit(t)}}return(i=s).\u0275fac=function(t){return new(t||i)(e.rXU(e.sFG))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-bupa-insured-carousel"]],viewQuery:function(t,n){if(1&t&&(e.GBs(_,5),e.GBs(g.C,5)),2&t){let l;e.mGM(l=e.lsd())&&(n.swiperElement=l.first),e.mGM(l=e.lsd())&&(n.slideComponents=l)}},inputs:{insured:"insured",selectedBirthDate:"selectedBirthDate",relationshipOptions:"relationshipOptions",showRemoveButton:"showRemoveButton",swiperConfig:"swiperConfig"},outputs:{addSlide:"addSlide",removeSlide:"removeSlide",birthDateChange:"birthDateChange"},standalone:!0,features:[e.OA$,e.aNF],decls:3,vars:11,consts:[["swiper",""],[3,"mousewheel","centeredSlides","grabCursor","effect","slidesPerView","spaceBetween","loop","ngClass"],["class","insured-data-slide",4,"ngFor","ngForOf"],[1,"insured-data-slide"],[3,"birthDateChange","removeCard","persona","idNumber","insuredLength","selectedBirthDate","relationshipOptions","removeCardButton"]],template:function(t,n){1&t&&(e.j41(0,"swiper-container",1,0),e.DNE(2,b,2,6,"swiper-slide",2),e.k0s()),2&t&&(e.Y8G("mousewheel",!0)("centeredSlides",n.insured.length<=2)("grabCursor",n.slideConfig.grabCursor)("effect",n.slideConfig.effect)("slidesPerView",n.slideConfig.slidesPerView)("spaceBetween",n.slideConfig.spaceBetween)("loop",n.slideConfig.loop)("ngClass",e.eq3(9,m,n.slideConfig.pagination)),e.R7$(2),e.Y8G("ngForOf",n.insured))},dependencies:[c.MD,c.YU,c.Sq,a.bv,g.C],styles:["swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]{width:296px}swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]:not(:first-child)     .insured-data-card-header{background-color:#0d1846}swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]:not(:first-child)     ion-card-content{background-color:#0079c8}"]}),s})();var k=r(70),P=r(7260);function v(i,s){if(1&i&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",24),e.nrm(3,"ion-back-button",25),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"json"),e.k0s()()()),2&i){const o=e.XpG();e.R7$(5),e.SpI(" International business quote ",e.bMT(6,1,"usuario: "+o.policeCase)," ")}}function O(i,s){if(1&i&&(e.j41(0,"ion-select-option",26),e.EFF(1),e.k0s()),2&i){const o=s.$implicit;e.Y8G("value",o.value),e.R7$(),e.JRh(o.label)}}function M(i,s){if(1&i&&(e.j41(0,"ion-select-option",26),e.EFF(1),e.k0s()),2&i){const o=s.$implicit;e.Y8G("value",o.value),e.R7$(),e.JRh(o.label)}}function w(i,s){if(1&i&&(e.j41(0,"ion-col",9)(1,"ion-select",27,2),e.DNE(3,M,2,2,"ion-select-option",11),e.k0s()()),2&i){const o=e.XpG();e.Y8G("sizeMd",6),e.R7$(3),e.Y8G("ngForOf",o.countryOptions)}}function B(i,s){if(1&i&&(e.j41(0,"ion-select-option",26),e.EFF(1),e.k0s()),2&i){const o=s.$implicit;e.Y8G("value",o.value),e.R7$(),e.JRh(o.label)}}function y(i,s){if(1&i&&(e.j41(0,"ion-select-option",26),e.EFF(1),e.k0s()),2&i){const o=s.$implicit;e.Y8G("value",o.value),e.R7$(),e.JRh(o.label)}}function S(i,s){if(1&i&&(e.j41(0,"ion-col",13)(1,"ion-select",28,3),e.DNE(3,y,2,2,"ion-select-option",11),e.k0s()()),2&i){const o=e.XpG();e.Y8G("sizeMd",6),e.R7$(),e.Y8G("disabled",0===o.availableProducts.length),e.R7$(2),e.Y8G("ngForOf",o.availableProducts)}}function T(i,s){if(1&i){const o=e.RV6();e.j41(0,"ion-col",29)(1,"ion-button",30),e.bIt("click",function(){e.eBV(o);const n=e.XpG();return e.Njj(n.addSlide())}),e.nrm(2,"ion-icon",31),e.j41(3,"ion-label"),e.EFF(4,"A\xf1adir asegurado"),e.k0s()()()}}let D=(()=>{var i;class s{constructor(t,n){this.router=t,this.insuranceScenariosService=n,this.customSwiperConfig={},this.showAddSlideButton=!1,this.insuredData=[],this.whoToInsureOptions=[{value:"individual",label:"Una persona"},{value:"family",label:"Una familia"}],this.relationshipOptions=[{value:"spouse",label:"Spouse"},{value:"child",label:"Child"},{value:"parent",label:"Parent"},{value:"sibling",label:"Sibling"},{value:"other",label:"Other"}],this.countryOptions=[{value:"cl",label:"Chile"},{value:"ec",label:"Ecuador"},{value:"gt",label:"Guatemala"},{value:"pa",label:"Panam\xe1"},{value:"py",label:"Paraguay"},{value:"pe",label:"Per\xfa"},{value:"mx",label:"M\xe9xico"},{value:"do",label:"Rep\xfablica Dominicana"},{value:"tt",label:"Trinidad y Tobago"}],this.productTypeOptions=[{value:"international_premium",label:"International Premium"},{value:"international",label:"International"}],this.productOptions={international_premium:[{value:"bupa-global-major",label:"Global Major Medical Health Plan"},{value:"bupa-global-select",label:"Global Select Health Plan"},{value:"bupa-global-premiere",label:"Global Premier Health Plan"},{value:"bupa-global-elite",label:"Global Elite Health Plan"},{value:"bupa-global-ultimate",label:"Global Ultimate Health Plan"}],international:[{value:"bupa-essentiaql-500",label:"Bupa Essential 500"},{value:"bupa-essentiaql-1000",label:"Bupa Essential 1000"}]},this.selectedBirthDate=[],this.showRemoveButton=!0,this.selectedRelationship="child",this.availableProducts=[],this.selectedProductType=null}ngOnInit(){this.policeCase=this.insuranceScenariosService.getPoliceCase(),console.log(`International Business Quote component loaded with policeCase: ${this.policeCase}`),this.insuredData=[{id:0,persona:"Titular"}]}onProductTypeChange(t){const n=t.detail.value;n?(this.selectedProductType=n,this.updateProductOptions(n)):(this.selectedProductType=null,this.availableProducts=[])}onWhoToInsureChange(t){const n=t.detail.value;this.insuredData=[{id:0,persona:"Titular"}],"family"===n&&this.addSlide(),this.showAddSlideButton="family"===n}updateProductOptions(t){this.availableProducts=this.productOptions[t]||[]}shouldShowProductSelect(){return null!==this.selectedProductType&&""!==this.selectedProductType}addSlide(){const t=this.insuredData.length;this.insuredData.push({id:t,persona:`Asegurado ${t+1}`}),setTimeout(()=>{this.carouselComponent.focusLastSlide()},200)}removeSlide(t){this.insuredData=this.insuredData.filter(n=>n.id!==t)}onCardDataChange(t){const n=this.insuredData.findIndex(l=>l.id===t.id);-1!==n&&(this.insuredData[n]={...this.insuredData[n],...t})}navigateToPlans(){this.router.navigate(["/business-plans"])}}return(i=s).\u0275fac=function(t){return new(t||i)(e.rXU(k.Ix),e.rXU(P.t))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-business-quote"]],viewQuery:function(t,n){if(1&t&&e.GBs(h,5),2&t){let l;e.mGM(l=e.lsd())&&(n.carouselComponent=l.first)}},standalone:!0,features:[e.aNF],decls:31,vars:20,consts:[["whoToInsureSelect",""],["productTypeSelect",""],["countrySelect",""],["productSelect",""],[4,"ngIf"],["fixed",""],[1,"police-quote-title"],[1,"calculate-insurance-price-subtitle"],[1,"police-quote-filter"],["sizeLg","3",3,"sizeMd"],["interface","popover","mode","md","value","individual","label","\xbfA qui\xe9n quieres asegurar?","label-placement","floating","fill","outline",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["sizeLg","3",3,"sizeMd",4,"ngIf"],["size","12","sizeLg","3",3,"sizeMd"],["interface","popover","mode","md","label-placement","floating","fill","outline",3,"ionChange","label"],["size","12","sizeLg","3",3,"sizeMd",4,"ngIf"],[1,"ion-text-center","insured-data-title"],[1,"ion-justify-content-center"],[1,"ion-justify-content-end"],["size","auto",4,"ngIf"],[1,"ion-justify-content-center","ion-nowrap"],[3,"addSlide","removeSlide","insured","selectedBirthDate","relationshipOptions","showRemoveButton","swiperConfig"],[1,"ion-padding"],["mode","ios",3,"click","disabled","color"],["slot","start"],["defaultHref","/"],[3,"value"],["interface","popover","mode","md","label","Selecciona el pa\xeds","label-placement","floating","fill","outline"],["interface","popover","mode","md","label","Selecciona el producto","label-placement","floating","fill","outline",3,"disabled"],["size","auto"],["mode","ios",3,"click"],["name","add"]],template:function(t,n){if(1&t){const l=e.RV6();e.DNE(0,v,7,3,"ion-header",4),e.j41(1,"ion-content")(2,"ion-grid",5)(3,"h1",6),e.EFF(4,"International business quote"),e.k0s(),e.j41(5,"h2",7),e.EFF(6,"Calculate your insurance price"),e.k0s(),e.j41(7,"ion-row",8)(8,"ion-col",9)(9,"ion-select",10,0),e.bIt("ionChange",function(u){return e.eBV(l),e.Njj(n.onWhoToInsureChange(u))}),e.DNE(11,O,2,2,"ion-select-option",11),e.k0s()(),e.DNE(12,w,4,2,"ion-col",12),e.j41(13,"ion-col",13)(14,"ion-select",14,1),e.nI1(16,"json"),e.bIt("ionChange",function(u){return e.eBV(l),e.Njj(n.onProductTypeChange(u))}),e.DNE(17,B,2,2,"ion-select-option",11),e.k0s()(),e.DNE(18,S,4,3,"ion-col",15),e.k0s(),e.j41(19,"h2",16),e.EFF(20,"Datos del asegurado"),e.k0s(),e.j41(21,"section",17)(22,"ion-row",18),e.DNE(23,T,5,0,"ion-col",19),e.k0s(),e.j41(24,"ion-row",20)(25,"ion-col")(26,"app-bupa-insured-carousel",21),e.bIt("addSlide",function(){return e.eBV(l),e.Njj(n.addSlide())})("removeSlide",function(u){return e.eBV(l),e.Njj(n.removeSlide(u))}),e.k0s()()()()()(),e.j41(27,"ion-footer",22)(28,"ion-row",17)(29,"ion-button",23),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateToPlans())}),e.EFF(30),e.k0s()()()}2&t&&(e.Y8G("ngIf",!0),e.R7$(8),e.Y8G("sizeMd",6),e.R7$(3),e.Y8G("ngForOf",n.whoToInsureOptions),e.R7$(),e.Y8G("ngIf",!n.insuranceScenariosService.isPmiEcuador()),e.R7$(),e.Y8G("sizeMd",6),e.R7$(),e.Mz_("label","Selecciona el tipo de producto ",e.bMT(16,18,n.updateProductOptions),""),e.R7$(3),e.Y8G("ngForOf",n.productTypeOptions),e.R7$(),e.Y8G("ngIf",n.shouldShowProductSelect()),e.R7$(5),e.Y8G("ngIf",n.showAddSlideButton),e.R7$(3),e.Y8G("insured",n.insuredData)("selectedBirthDate",n.selectedBirthDate)("relationshipOptions",n.relationshipOptions)("showRemoveButton",n.showRemoveButton)("swiperConfig",n.customSwiperConfig),e.R7$(3),e.Y8G("disabled",n.insuredData.length<2&&n.showAddSlideButton)("color",n.insuredData.length<2&&n.showAddSlideButton?"medium":"primary"),e.R7$(),e.SpI(" ",n.insuredData.length<2&&n.showAddSlideButton?"Debe llenar otra tarjeta para calcular":"Calcular precio"," "))},dependencies:[c.MD,c.Sq,c.bT,c.TG,f.YN,a.bv,a.Jm,a.QW,a.hU,a.W9,a.M0,a.lO,a.eU,a.iq,a.he,a.ln,a.Nm,a.Ip,a.BC,a.ai,a.Je,a.el,h],styles:['.slick-slider[_ngcontent-%COMP%]{position:relative;display:block;box-sizing:border-box;-webkit-user-select:none;user-select:none;-webkit-touch-callout:none;-khtml-user-select:none;touch-action:pan-y;-webkit-tap-highlight-color:transparent}.slick-list[_ngcontent-%COMP%]{position:relative;display:block;overflow:hidden;margin:0;padding:0}.slick-list[_ngcontent-%COMP%]:focus{outline:none}.slick-list.dragging[_ngcontent-%COMP%]{cursor:pointer;cursor:hand}.slick-slider[_ngcontent-%COMP%]   .slick-track[_ngcontent-%COMP%], .slick-slider[_ngcontent-%COMP%]   .slick-list[_ngcontent-%COMP%]{transform:translateZ(0)}.slick-track[_ngcontent-%COMP%]{position:relative;top:0;left:0;display:block;margin-left:auto;margin-right:auto}.slick-track[_ngcontent-%COMP%]:before, .slick-track[_ngcontent-%COMP%]:after{display:table;content:""}.slick-track[_ngcontent-%COMP%]:after{clear:both}.slick-loading[_ngcontent-%COMP%]   .slick-track[_ngcontent-%COMP%]{visibility:hidden}.slick-slide[_ngcontent-%COMP%]{display:none;float:left;height:100%;min-height:1px}[dir=rtl][_ngcontent-%COMP%]   .slick-slide[_ngcontent-%COMP%]{float:right}.slick-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.slick-slide.slick-loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}.slick-slide.dragging[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{pointer-events:none}.slick-initialized[_ngcontent-%COMP%]   .slick-slide[_ngcontent-%COMP%]{display:block}.slick-loading[_ngcontent-%COMP%]   .slick-slide[_ngcontent-%COMP%]{visibility:hidden}.slick-vertical[_ngcontent-%COMP%]   .slick-slide[_ngcontent-%COMP%]{display:block;height:auto;border:1px solid transparent}.slick-arrow.slick-hidden[_ngcontent-%COMP%]{display:none}@charset "UTF-8";.slick-loading[_ngcontent-%COMP%]   .slick-list[_ngcontent-%COMP%]{background:#fff url(ajax-loader.0b80f665935ef7de.gif) center center no-repeat}@font-face{font-family:slick;font-weight:400;font-style:normal;src:url(slick.25572f22d77029da.eot);src:url(slick.25572f22d77029da.eot?#iefix) format("embedded-opentype"),url(slick.653a4cbba6e1a2b3.woff) format("woff"),url(slick.6aa1ee46202fac6e.ttf) format("truetype"),url(slick.f895cfdf693e6229.svg#slick) format("svg")}.slick-prev[_ngcontent-%COMP%], .slick-next[_ngcontent-%COMP%]{font-size:0;line-height:0;position:absolute;top:50%;display:block;width:20px;height:20px;padding:0;transform:translateY(-50%);cursor:pointer;color:transparent;border:none;outline:none;background:transparent}.slick-prev[_ngcontent-%COMP%]:hover, .slick-prev[_ngcontent-%COMP%]:focus, .slick-next[_ngcontent-%COMP%]:hover, .slick-next[_ngcontent-%COMP%]:focus{color:transparent;outline:none;background:transparent}.slick-prev[_ngcontent-%COMP%]:hover:before, .slick-prev[_ngcontent-%COMP%]:focus:before, .slick-next[_ngcontent-%COMP%]:hover:before, .slick-next[_ngcontent-%COMP%]:focus:before{opacity:1}.slick-prev.slick-disabled[_ngcontent-%COMP%]:before, .slick-next.slick-disabled[_ngcontent-%COMP%]:before{opacity:.25}.slick-prev[_ngcontent-%COMP%]:before, .slick-next[_ngcontent-%COMP%]:before{font-family:slick;font-size:20px;line-height:1;opacity:.75;color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.slick-prev[_ngcontent-%COMP%]{left:-25px}[dir=rtl][_ngcontent-%COMP%]   .slick-prev[_ngcontent-%COMP%]{right:-25px;left:auto}.slick-prev[_ngcontent-%COMP%]:before{content:"\\2190"}[dir=rtl][_ngcontent-%COMP%]   .slick-prev[_ngcontent-%COMP%]:before{content:"\\2192"}.slick-next[_ngcontent-%COMP%]{right:-25px}[dir=rtl][_ngcontent-%COMP%]   .slick-next[_ngcontent-%COMP%]{right:auto;left:-25px}.slick-next[_ngcontent-%COMP%]:before{content:"\\2192"}[dir=rtl][_ngcontent-%COMP%]   .slick-next[_ngcontent-%COMP%]:before{content:"\\2190"}.slick-dotted.slick-slider[_ngcontent-%COMP%]{margin-bottom:30px}.slick-dots[_ngcontent-%COMP%]{position:absolute;bottom:-25px;display:block;width:100%;padding:0;margin:0;list-style:none;text-align:center}.slick-dots[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;display:inline-block;width:20px;height:20px;margin:0 5px;padding:0;cursor:pointer}.slick-dots[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:0;line-height:0;display:block;width:20px;height:20px;padding:5px;cursor:pointer;color:transparent;border:0;outline:none;background:transparent}.slick-dots[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .slick-dots[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}.slick-dots[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:before, .slick-dots[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus:before{opacity:1}.slick-dots[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{font-family:slick;font-size:6px;line-height:20px;position:absolute;top:0;left:0;width:20px;height:20px;content:"\\2022";text-align:center;opacity:.25;color:#000;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.slick-dots[_ngcontent-%COMP%]   li.slick-active[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{opacity:.75;color:#000}.insured-data-slide-titular[_ngcontent-%COMP%]{display:inline-block}.insured-data-slide-titular[_ngcontent-%COMP%]     .insured-data-card-header{background-color:#0079c8}.insured-data-slide-titular[_ngcontent-%COMP%]     ion-card-content{background-color:#0d1846}']}),s})()}}]);