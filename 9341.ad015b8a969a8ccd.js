"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9341],{9341:(ie,_,c)=>{c.r(_),c.d(_,{BusinessRenewalQuoteComponent:()=>oe});var f=c(467),u=c(177),r=c(9465),d=c(9856),e=c(3953);const w=t=>({"ion-hide":t}),D=t=>({"activated-dropdown-trigger":t}),y=(t,a,i)=>({"opacity-0 movedown":t,"opacity-100 showedButtons":a,"ion-hide":i});let F=(()=>{var t;class a{constructor(o){this.renderer=o,this.showButtons=!1,this.hideAfterTransition=!0}ngOnInit(){console.log("Se inicia el componente buttons")}toggleButtons(){this.showButtons?setTimeout(()=>{this.hideAfterTransition=!0},250):this.hideAfterTransition=!1,this.showButtons=!this.showButtons}onTransitionEnd(){this.showButtons||(this.hideAfterTransition=!0)}onDocumentClick(o){const n=o.target,s=document.querySelector(".button-group"),l=document.querySelector(".btn-toogle");s&&!s.contains(n)&&!l.contains(n)&&(this.showButtons=!1,this.hideAfterTransition=!0)}onDocumentKeydown(o){"Escape"===o.key&&(this.showButtons=!1,this.hideAfterTransition=!0)}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(e.sFG))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-button-actions"]],hostBindings:function(o,n){1&o&&e.bIt("click",function(l){return n.onDocumentClick(l)},!1,e.EBC)("keydown",function(l){return n.onDocumentKeydown(l)},!1,e.EBC)},standalone:!0,features:[e.aNF],decls:22,vars:13,consts:[["quoteSaveButton",""],["aria-hidden","true",1,"custom-backdrop",3,"ionBackdropTap","ngClass"],["slot","end","mode","ios",1,"app-button-actions","ion-padding"],[1,"ion-display-flex","ion-justify-content-between","gap-3"],["mode","ios","fill","outline",1,"mt-2",3,"disabled"],[1,"app-button-actions--wrapper"],[1,"btn-group","ion-display-flex","separate-active","pt-2"],["id","quoteSaveButton","mode","ios","navigate","./",1,"app-button-actions--save-quote-button",3,"disabled"],["mode","ios",1,"btn-toogle","app-button-actions--dropdown-trigger",3,"click","ngClass"],["size","small","name","ellipsis-vertical"],[1,"app-button-actions--options","button-group","position-absolute","ion-display-flex","ion-flex-column","bottom-100","end-0","btns-group","ion-align-items-end","gap-2",3,"transitionend","ngClass"],["expand","none","mode","ios"],["name","save"],["mode","ios"],["name","card"],["name","arrow-undo"]],template:function(o,n){if(1&o){const s=e.RV6();e.j41(0,"ion-backdrop",1),e.bIt("ionBackdropTap",function(){return e.eBV(s),e.Njj(n.toggleButtons())}),e.k0s(),e.j41(1,"ion-footer",2)(2,"section",3)(3,"ion-button",4),e.EFF(4," Cancelar "),e.k0s(),e.j41(5,"div",5)(6,"div",6)(7,"ion-button",7,0),e.EFF(9," Guardar y enviar cotizaci\xf3n "),e.k0s(),e.j41(10,"ion-button",8),e.bIt("click",function(){return e.eBV(s),e.Njj(n.toggleButtons())}),e.nrm(11,"ion-icon",9),e.k0s()(),e.j41(12,"div",10),e.bIt("transitionend",function(){return e.eBV(s),e.Njj(n.onTransitionEnd())}),e.j41(13,"ion-button",11),e.EFF(14,"Guardar P\xf3liza "),e.nrm(15,"ion-icon",12),e.k0s(),e.j41(16,"ion-button",13),e.EFF(17,"Renovar/Pagar P\xf3liza "),e.nrm(18,"ion-icon",14),e.k0s(),e.j41(19,"ion-button",13),e.EFF(20,"Restaurar cotizaci\xf3n "),e.nrm(21,"ion-icon",15),e.k0s()()()()()}2&o&&(e.Y8G("ngClass",e.eq3(5,w,!n.showButtons)),e.R7$(3),e.Y8G("disabled",n.showButtons),e.R7$(4),e.Y8G("disabled",n.showButtons),e.R7$(3),e.Y8G("ngClass",e.eq3(7,D,n.showButtons)),e.R7$(2),e.Y8G("ngClass",e.sMw(9,y,!n.showButtons,n.showButtons,n.hideAfterTransition)))},dependencies:[d.Jm,d.iq,u.MD,u.YU,d.ZF,d.M0],styles:["ion-button[_ngcontent-%COMP%]{margin:0;transition:all .3s ease}.activated-dropdown-trigger[_ngcontent-%COMP%]::part(native){background-color:var(--ion-color-primary-shade)}.activated-dropdown-trigger[_ngcontent-%COMP%]:hover::part(native):after{background-color:var(--background-activated)}.app-button-actions--wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.btns-group[_ngcontent-%COMP%]{width:max-content}.btns-group[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: #fff;--background-hover: #eee;--background-activated: #dbf0ff;--background-focused: #dbf0ff;--color: var(--ion-color-primary);margin:0!important}.btns-group[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:focus, .btns-group[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--box-shadow: 0px 0px 0px 4px var(--bs-focus-ring-color)}.app-button-actions--options[_ngcontent-%COMP%]{transition:all .2s ease-in}.app-button-actions--options[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out;transform:translateY(0)}.app-button-actions--options[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-inline-start:.5rem}.app-button-actions--options[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:last-child{margin-block-end:.5rem!important}.app-button-actions--options.movedown[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{transform:translateY(.5rem)}.btn-group.separate-active[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:last-child{--border-color:var(--body);--border-width: 0 0 0 .5px;--border-style: solid}.btn-group[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}.btn-group[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-child{--border-radius: 5px 0 0 5px}.btn-group[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:last-child{--border-radius: 0 5px 5px 0}"]}),a})();var b=c(70);const k=["popover"],O=t=>({"bupa-field-output--info ion-display-flex ion-align-items-start":t});function I(t,a){if(1&t&&(e.j41(0,"ion-label",8),e.EFF(1),e.k0s()),2&t){const i=a.$implicit,o=e.XpG(2);e.Y8G("ngClass",o.fieldStyle),e.R7$(),e.SpI(" ",i," ")}}function T(t,a){if(1&t&&(e.qex(0),e.DNE(1,I,2,2,"ion-label",7),e.bVm()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngForOf",i.value)}}function M(t,a){1&t&&(e.j41(0,"ion-label"),e.EFF(1,"--"),e.k0s())}function S(t,a){if(1&t&&(e.j41(0,"ion-button",9),e.nrm(1,"ion-icon",10,1),e.k0s()),2&t){const i=e.XpG();e.Y8G("id",i.normalizeLabel(i.label)+"-trigger")}}function B(t,a){if(1&t&&(e.j41(0,"ion-content",12),e.EFF(1),e.k0s()),2&t){const i=e.XpG(2);e.R7$(),e.JRh(i.infoText)}}function R(t,a){if(1&t){const i=e.RV6();e.j41(0,"ion-popover",11),e.bIt("keydown",function(n){e.eBV(i);const s=e.XpG();return e.Njj(s.onKeydown(n))}),e.DNE(1,B,2,1,"ng-template"),e.k0s()}if(2&t){const i=e.XpG();e.Y8G("trigger",i.normalizeLabel(i.label)+"-trigger")("keepContentsMounted",!0)}}let h=(()=>{var t;class a{constructor(o){this.popoverController=o,this.value=[],this.fieldStyle=[]}onKeydown(o){("Enter"===o.key||" "===o.key)&&(o.preventDefault(),this.showPopover(o))}get isEmptyValue(){return this.value.every(o=>!o.trim())}showPopover(o){var n=this;return(0,f.A)(function*(){yield(yield n.popoverController.create({component:a,event:o,trigger:"hover-trigger",mode:"ios",cssClass:"custom-popover-class"})).present()})()}normalizeLabel(o){return o.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(r.IE))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-bupa-field-output"]],viewQuery:function(o,n){if(1&o&&e.GBs(k,7),2&o){let s;e.mGM(s=e.lsd())&&(n.popover=s.first)}},inputs:{label:"label",value:"value",fieldStyle:"fieldStyle",infoText:"infoText"},standalone:!0,features:[e.aNF],decls:9,vars:8,consts:[["emptyTemplate",""],["help_icon",""],[1,"bupa-field-output-wrapper",3,"ngClass"],["color","medium"],[4,"ngIf","ngIfElse"],["fill","clear","shape","round","mode","ios","class","bupa-field-output--trigger",3,"id",4,"ngIf"],["mode","ios","triggerAction","hover","class","ion-no-border-radius","focus-trap","false",3,"trigger","keepContentsMounted","keydown",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["fill","clear","shape","round","mode","ios",1,"bupa-field-output--trigger",3,"id"],["slot","icon-only","name","information-circle-outline"],["mode","ios","triggerAction","hover","focus-trap","false",1,"ion-no-border-radius",3,"keydown","trigger","keepContentsMounted"],[1,"ion-padding"]],template:function(o,n){if(1&o&&(e.j41(0,"div",2)(1,"article")(2,"ion-label",3),e.EFF(3),e.k0s(),e.DNE(4,T,2,1,"ng-container",4)(5,M,2,0,"ng-template",null,0,e.C5r),e.k0s(),e.DNE(7,S,3,1,"ion-button",5)(8,R,2,2,"ion-popover",6),e.k0s()),2&o){const s=e.sdS(6);e.Y8G("ngClass",e.eq3(6,O,n.infoText)),e.R7$(3),e.JRh(n.label),e.R7$(),e.Y8G("ngIf",!n.isEmptyValue)("ngIfElse",s),e.R7$(3),e.Y8G("ngIf",n.infoText),e.R7$(),e.Y8G("ngIf",n.infoText)}},dependencies:[r.bv,r.Jm,r.W9,r.iq,r.he,r.CF,u.MD,u.YU,u.Sq,u.bT],styles:[".bupa-field-output-wrapper[_ngcontent-%COMP%]{position:relative;margin-block-end:.5rem}.bupa-field-output-wrapper[_ngcontent-%COMP%]   .bupa-field-output--trigger[_ngcontent-%COMP%]{position:relative;top:-.75rem}ion-label[_ngcontent-%COMP%]{display:block}ion-label.strong[_ngcontent-%COMP%]{font-weight:700}ion-label.primary[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-label.secondary[_ngcontent-%COMP%]{color:var(--ion-color-secondary)}ion-popover[_ngcontent-%COMP%]{--background: #5a5e61;--max-width: 600px;--max-height: 150px;--width: fit-content}ion-popover.ion-no-border-radius[_ngcontent-%COMP%]::part(content){border:none;border-radius:0!important}ion-popover.ion-no-border-radius[_ngcontent-%COMP%]::part(arrow):after{border-radius:0!important;top:5px}ion-popover[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{--color: white}ion-popover[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::part(background){background-color:transparent;color:initial}"]}),a})();var E=c(7260);const j=t=>({"new-person":t}),m=t=>[t],P=()=>["strong"],C=()=>["strong","san-color-secondary-25"];function z(t,a){1&t&&(e.j41(0,"ion-badge",10),e.EFF(1,"New"),e.k0s())}function A(t,a){1&t&&(e.j41(0,"div",11),e.nrm(1,"ion-icon",12),e.j41(2,"p"),e.EFF(3,"Dependiente de 24 a\xf1os."),e.k0s()())}function G(t,a){if(1&t){const i=e.RV6();e.j41(0,"ion-button",14),e.bIt("click",function(){e.eBV(i);const n=e.XpG(2);return e.Njj(n.onToggleStatus())}),e.nrm(1,"ion-icon",15),e.k0s()}}function x(t,a){if(1&t&&(e.qex(0),e.DNE(1,G,2,0,"ion-button",13),e.bVm()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngIf",!i.isTitular())}}function U(t,a){if(1&t){const i=e.RV6();e.j41(0,"ion-button",18),e.bIt("click",function(){e.eBV(i);const n=e.XpG(2);return e.Njj(n.onToggleStatus())}),e.nrm(1,"ion-icon",19),e.k0s()}}function V(t,a){if(1&t){const i=e.RV6();e.j41(0,"ion-button",20),e.bIt("click",function(){e.eBV(i);const n=e.XpG(2);return e.Njj(n.navigate("business-plans","renewal"))}),e.EFF(1," Cotizar p\xf3liza "),e.k0s()}}function $(t,a){if(1&t&&e.DNE(0,U,2,0,"ion-button",16)(1,V,2,0,"ion-button",17),2&t){const i=e.XpG();e.Y8G("ngIf",!i.insuredPersonData.details.isOverDate),e.R7$(),e.Y8G("ngIf",i.insuredPersonData.details.isOverDate)}}let L=(()=>{var t;class a{constructor(o,n){this.insuranceScenariosService=o,this.router=n,this.togglePersonStatus=new e.bkB}onToggleStatus(){this.togglePersonStatus.emit(this.insuredPersonData)}navigate(o,n){this.insuranceScenariosService.setPoliceCase(n),console.log(`Navigating to ${o} with policeCase: ${n}`),this.router.navigate([o])}isTitular(){return"titular"==this.insuredPersonData.details.insuredType}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(E.t),e.rXU(b.Ix))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-renewal-insured-person"]],inputs:{insuredPersonData:"insuredPersonData",index:"index"},outputs:{togglePersonStatus:"togglePersonStatus"},standalone:!0,features:[e.aNF],decls:22,vars:37,consts:[["restoreIcon",""],[3,"ngClass"],[1,"insured-people--title","ion-no-padding-bottom","ion-align-items-center","ion-display-flex","ion-justify-content-between"],[1,"ion-display-flex","ion-align-items-center"],["class","",4,"ngIf"],["class","is-over-date--message san-color-secondary-25 ion-display-flex ion-align-items-center ion-margin-start",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"renewal-titular--row"],["size","12","sizeSm","6","sizeMd","3"],[3,"label","value","fieldStyle"],[1,""],[1,"is-over-date--message","san-color-secondary-25","ion-display-flex","ion-align-items-center","ion-margin-start"],["size","large","name","information-circle-outline"],["data-tooltip-position","left","data-tooltip","Quitar de la cotizaci\xf3n","fill","clear","shape","round","mode","ios","class","custom-tooltip renewal-insured-section--remove-insured ion-float-right",3,"click",4,"ngIf"],["data-tooltip-position","left","data-tooltip","Quitar de la cotizaci\xf3n","fill","clear","shape","round","mode","ios",1,"custom-tooltip","renewal-insured-section--remove-insured","ion-float-right",3,"click"],["slot","icon-only","name","trash-outline"],["data-tooltip-position","left","data-tooltip","Incluir en la cotizaci\xf3n","fill","clear","shape","round","mode","ios","class","custom-tooltip renewal-insured-section--remove-insured ion-float-right",3,"click",4,"ngIf"],["data-tooltip-position","left","data-tooltip","Cotizar nueva p\xf3liza","fill","outline","mode","ios","class","custom-tooltip renewal-insured-section--new-police ion-float-right",3,"click",4,"ngIf"],["data-tooltip-position","left","data-tooltip","Incluir en la cotizaci\xf3n","fill","clear","shape","round","mode","ios",1,"custom-tooltip","renewal-insured-section--remove-insured","ion-float-right",3,"click"],["slot","icon-only","name","swap-vertical-outline"],["data-tooltip-position","left","data-tooltip","Cotizar nueva p\xf3liza","fill","outline","mode","ios",1,"custom-tooltip","renewal-insured-section--new-police","ion-float-right",3,"click"]],template:function(o,n){if(1&o&&(e.j41(0,"article",1),e.nI1(1,"lowercase"),e.j41(2,"ion-row")(3,"ion-col",2)(4,"div",3)(5,"h3"),e.EFF(6),e.DNE(7,z,2,0,"ion-badge",4),e.k0s(),e.DNE(8,A,4,0,"div",5),e.k0s(),e.DNE(9,x,2,1,"ng-container",6)(10,$,2,2,"ng-template",null,0,e.C5r),e.k0s()(),e.j41(12,"ion-row",7)(13,"ion-col",8),e.nrm(14,"app-bupa-field-output",9),e.k0s(),e.j41(15,"ion-col",8),e.nrm(16,"app-bupa-field-output",9),e.k0s(),e.j41(17,"ion-col",8),e.nrm(18,"app-bupa-field-output",9),e.k0s(),e.j41(19,"ion-col",8),e.nrm(20,"app-bupa-field-output",9),e.k0s()(),e.nrm(21,"ion-item-divider"),e.k0s()),2&o){const s=e.sdS(11);e.ZvI("insured-people  renewal-insured--section-",e.bMT(1,21,n.insuredPersonData.title),""),e.Y8G("ngClass",e.eq3(23,j,!n.insuredPersonData.details.inPolice)),e.R7$(6),e.SpI("",n.insuredPersonData.title," "),e.R7$(),e.Y8G("ngIf",!n.insuredPersonData.details.inPolice),e.R7$(),e.Y8G("ngIf",n.insuredPersonData.details.isOverDate),e.R7$(),e.Y8G("ngIf",n.insuredPersonData.details.enabledInQuote)("ngIfElse",s),e.R7$(5),e.Y8G("label",n.insuredPersonData.details.typeLabel)("value",e.eq3(25,m,n.insuredPersonData.details.typeValue))("fieldStyle",e.lJ4(27,P)),e.R7$(2),e.Y8G("label",n.insuredPersonData.details.birthDateLabel)("value",e.eq3(28,m,n.insuredPersonData.details.birthDateValue))("fieldStyle",e.lJ4(30,P)),e.R7$(2),e.Y8G("label",n.insuredPersonData.details.rateLabel)("value",e.eq3(31,m,n.insuredPersonData.details.rateValue))("fieldStyle",e.lJ4(33,C)),e.R7$(2),e.Y8G("label",n.insuredPersonData.details.extraPremiumLabel)("value",e.eq3(34,m,n.insuredPersonData.details.extraPremiumValue))("fieldStyle",e.lJ4(36,C))}},dependencies:[u.MD,u.YU,u.bT,u.GH,b.iI,r.bv,r.In,r.Jm,r.hU,r.iq,r.Dg,r.ln,h],styles:[".insured-people[_ngcontent-%COMP%]{cursor:default;transition:all .2s ease-in-out}.insured-people[_ngcontent-%COMP%]:hover{background-color:rgba(var(--ion-color-primary-rgb, 0, 84, 233),.08)}.insured-people--title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.15rem}.insured-people[_ngcontent-%COMP%]   ion-item-divider[_ngcontent-%COMP%]{min-height:1rem;--background: transparent }"]}),a})();var Y=c(1136);const N=["modal"],q=["toast"],g=t=>[t],Q=()=>["strong","primary"],v=()=>["strong"],X=(t,a)=>[t,a],J=()=>({persona:"Asegurado"});function H(t,a){1&t&&e.nrm(0,"ion-icon",51)}function W(t,a){if(1&t&&(e.j41(0,"div",56),e.EFF(1),e.k0s()),2&t){const i=a.$implicit;e.R7$(),e.SpI(" ",i," ")}}function K(t,a){if(1&t&&(e.j41(0,"ion-select-option",52)(1,"div",53),e.EFF(2),e.k0s(),e.j41(3,"div",54),e.DNE(4,W,2,1,"div",55),e.k0s()()),2&t){const i=a.$implicit;e.Y8G("value",i.planId),e.R7$(2),e.SpI("Plan ID: ",i.planId,""),e.R7$(2),e.Y8G("ngForOf",i.deductibleMount)}}function Z(t,a){if(1&t){const i=e.RV6();e.j41(0,"app-insured-business-card",57),e.bIt("actionButtonTriggered",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.addNewInsured())}),e.k0s()}if(2&t){const i=e.XpG();e.Y8G("actionButtonText","Agregar")("persona",e.lJ4(6,J))("showRelationship",!0)("relationshipOptions",i.relationshipOptions)("showName",!0)("showLastName",!0)}}function ee(t,a){if(1&t){const i=e.RV6();e.j41(0,"app-renewal-insured-person",58),e.bIt("togglePersonStatus",function(n){e.eBV(i);const s=e.XpG();return e.Njj(s.toggleInsuredPerson(n))}),e.k0s()}2&t&&e.Y8G("insuredPersonData",a.$implicit)}function ne(t,a){if(1&t){const i=e.RV6();e.j41(0,"app-renewal-insured-person",61),e.bIt("togglePersonStatus",function(n){e.eBV(i);const s=e.XpG(2);return e.Njj(s.toggleInsuredPerson(n))}),e.k0s()}if(2&t){const o=a.index;e.Y8G("insuredPersonData",a.$implicit)("index",o)}}function te(t,a){if(1&t&&(e.j41(0,"section",59)(1,"h3",43),e.EFF(2,"Dependiente(s) no incluido(s) en la cotizaci\xf3n"),e.k0s(),e.DNE(3,ne,1,2,"app-renewal-insured-person",60),e.k0s()),2&t){const i=e.XpG();e.R7$(3),e.Y8G("ngForOf",i.disabledInsuredPeople)}}let oe=(()=>{var t;class a{constructor(){this.relationshipOptions=[{value:"spouse",label:"Spouse"},{value:"child",label:"Child"},{value:"parent",label:"Parent"},{value:"sibling",label:"Sibling"},{value:"other",label:"Other"}],this.insuredPeople=[{title:"Titular",details:{inPolice:!0,enabledInQuote:!0,typeLabel:"Titular/Guardi\xe1n",typeValue:"Mar\xeda P\xe9rez Puertos",birthDateLabel:"Fecha nacimiento",birthDateValue:"02-12-1977",rateLabel:"Tarifa",rateValue:"USD 7,235.00",extraPremiumLabel:"Extraprima",extraPremiumValue:"10% (USD 7,958.50)",isOverDate:void 0,insuredType:"titular"}},{title:"C\xf3nyuge",details:{inPolice:!0,enabledInQuote:!0,typeLabel:"Dependiente",typeValue:"Jos\xe9 Adri\xe1n P\xe9rez Puertos",birthDateLabel:"Fecha nacimiento",birthDateValue:"05-10-1980",rateLabel:"Tarifa",rateValue:"USD 8,950.00",extraPremiumLabel:"Extraprima",extraPremiumValue:"",isOverDate:void 0,insuredType:"spouse"}},{title:"Dependiente 2",details:{insuredType:"dependent",inPolice:!0,enabledInQuote:!0,typeLabel:"Dependiente",typeValue:"Sara Adriana P\xe9rez",birthDateLabel:"Fecha nacimiento",birthDateValue:"03-03-2000",rateLabel:"Tarifa",rateValue:"USD 1,300.00",extraPremiumLabel:"Extraprima",extraPremiumValue:"",isOverDate:!0}},{title:"Dependiente 3",details:{insuredType:"dependent",inPolice:!0,enabledInQuote:!0,typeLabel:"Dependiente",typeValue:"Eilier V\xe1squez Paternina",birthDateLabel:"Fecha nacimiento",birthDateValue:"03-03-2021",rateLabel:"Tarifa",rateValue:"USD 1,300.00",extraPremiumLabel:"Extraprima",extraPremiumValue:"",isOverDate:!1}}],this.plans=[{planId:"1",planTitle:"Bupa Flex 1 - Latam, el Caribe y EE.UU",planSubtitle:"Cobertura m\xednima",planDescription:"Este plan ofrece una cobertura b\xe1sica para tu veh\xedculo.",planPrice:120,planMountLimit:["Limite m\xe1ximo: 3.5 millones"],planCoverage:["Cobertura: Latinoam\xe9rica, el Caribe y EE.UU."],planPaymentPlan:"Primer pago USD 120 <br>12 pagos adicionales  USD 52",deductibleMount:["Dentro del Pa\xeds: USD 600","Fuera del Pa\xeds: USD 1,200"],promoPercents:"15%",promoPlanPaymentPlan:"Primer pago USD 120 <br>12 pagos adicionales  USD 52",validDate:"V\xe1lido: febrero  1 - abril 30",promoPlanPrice:102,aditionalCoverageOptions:[{icon:"heart-outline",label:"Maternidad"},{icon:"airplane-outline",label:"Piloto"}]},{planId:"2",planTitle:"Plan B\xe1sico 2",planSubtitle:"Cobertura m\xednima",planDescription:"Este plan ofrece una cobertura b\xe1sica para tu veh\xedculo.",planPrice:240,planMountLimit:["Limite m\xe1ximo: 3.5 millones","Cobertura: Latinoam\xe9rica, el Caribe y EE.UU."],planCoverage:[],planPaymentPlan:"Primer pago USD 120 <br>12 pagos adicionales  USD 52",deductibleMount:["Dentro del Pa\xeds: USD 700","Fuera del Pa\xeds: USD 1,400"],promoPercents:"15%",promoPlanPaymentPlan:"Primer pago USD 120 <br>12 pagos adicionales  USD 52",validDate:"V\xe1lido: febrero  1 - abril 30",promoPlanPrice:204,aditionalCoverageOptions:[{icon:"medkit-outline",label:"Transplante de \xf3rganos"},{icon:"heart-outline",label:"Maternidad"},{icon:"airplane-outline",label:"Piloto"}]},{planId:"3",planTitle:"Plan B\xe1sico 3",planSubtitle:"Cobertura m\xednima",planDescription:"Este plan ofrece una cobertura b\xe1sica para tu veh\xedculo.",planPrice:360,planMountLimit:["Limite m\xe1ximo: 3.5 millones"],planCoverage:["Cobertura: Latinoam\xe9rica, el Caribe y EE.UU."],planPaymentPlan:"Primer pago USD 120 <br>12 pagos adicionales  USD 52",deductibleMount:["Dentro del Pa\xeds: USD 800","Fuera del Pa\xeds: USD 1,600"],promoPercents:"15%",promoPlanPaymentPlan:"Primer pago USD 120 <br>12 pagos adicionales  USD 52",validDate:"V\xe1lido: febrero  1 - abril 30",promoPlanPrice:306,aditionalCoverageOptions:[{icon:"medkit-outline",label:"Transplante de \xf3rganos"},{icon:"heart-outline",label:"Maternidad"}]}],this.renewalData={annualPremium:"USD 15,582.00",deductibles:{outsideCountry:"Fuera del pa\xeds: USD 12,000.00",insideCountry:"Dentro del pa\xeds: USD 12,000.00"},agent:"Bupa Global Latin America - 10780",nextPlan:"Advantage WW4: Plan AW54",country:"Ecuador"},this.activeInsuredPeople=[],this.disabledInsuredPeople=[],this.quoteIsDiffPolice=!1,this.costosCTAsData={titulo:"Costo",columnas:{subtotal:[{label:"Subtotal",valor:"USD 18,208.50"},{label:"Costo administrativo Anual",valor:"USD 86"},{label:"IVA (14.94%)",valor:"USD 2,584.33"}],discounts:[{label:"Descuento por p\xf3liza (5%)",valor:"USD 300"},{label:"Extraprima (10%)",valor:"USD 2,350"},{label:"Descuento ONA (4%)",valor:"USD 435"}],totals:{items:[{label:"Total",valor:"USD 19,968.40"},{label:"Primer pago",valor:"USD 143.60"},{label:"Pagos 2-12",valor:"USD 68.60"}],nota:"Costo no incluye dependiente mayor de 24 a\xf1os, qui\xe9n debe obtener su propia p\xf3liza."}}},this.presentingElement=document.querySelector(".main-content-renewal")}ngOnInit(){this.filterInsuredPeople()}calculateAge(o){const n=new Date(o),s=new Date;let l=s.getFullYear()-n.getFullYear();const p=s.getMonth()-n.getMonth();return(p<0||0===p&&s.getDate()<n.getDate())&&l--,l}filterInsuredPeople(){this.insuredPeople.forEach(o=>{const n=this.calculateAge(o.details.birthDateValue);console.log(`Person: ${o.details.typeValue}, Age: ${n}`),n>=24&&"dependent"===o.details.insuredType&&(o.details.enabledInQuote=!1,o.details.isOverDate=!0)}),this.activeInsuredPeople=this.insuredPeople.filter(o=>o.details.enabledInQuote),this.disabledInsuredPeople=this.insuredPeople.filter(o=>!o.details.enabledInQuote),console.log("Active insured:",this.activeInsuredPeople),console.log("Disabled insured:",this.disabledInsuredPeople)}comparePoliceQuote(){return this.activeInsuredPeople==this.insuredPeople}toggleInsuredPerson(o){o&&o.details?(o.details.enabledInQuote=!o.details.enabledInQuote,this.filterInsuredPeople(),this.checkForChangesAndSave(this.activeInsuredPeople,this.insuredPeople)):console.error("Invalid person object:",o)}deepEqual(o,n){if(o===n)return!0;if("object"!=typeof o||null===o||"object"!=typeof n||null===n)return!1;const s=Object.keys(o),l=Object.keys(n);if(s.length!==l.length)return!1;for(let p of s)if(!l.includes(p)||!this.deepEqual(o[p],n[p]))return!1;return!0}checkForChangesAndSave(o,n){this.deepEqual(o,n)?(sessionStorage.removeItem("pendingChanges"),this.quoteIsDiffPolice=!1):(sessionStorage.setItem("pendingChanges",JSON.stringify(n)),this.presentToast(),this.quoteIsDiffPolice=!0)}presentToast(){var o=this;return(0,f.A)(function*(){yield o.toast.present()})()}addNewInsured(){this.insuredPeople.push({title:"Dependiente "+this.insuredPeople.length,details:{insuredType:"dependent",inPolice:!1,enabledInQuote:!0,typeLabel:"Dependiente",typeValue:"Darleen V\xe1squez Paternina",birthDateLabel:"Fecha nacimiento",birthDateValue:"02-22-2001",rateLabel:"Tarifa",rateValue:"USD 1,400.00",extraPremiumLabel:"Extraprima",extraPremiumValue:"10% (USD 7,958.50)",isOverDate:void 0}}),this.filterInsuredPeople(),this.checkForChangesAndSave(this.insuredPeople,this.activeInsuredPeople),this.modal.dismiss()}resetQuote(o,n,s){n.length=0,n.push(...o),s.length=0,sessionStorage.removeItem("pendingChanges"),alert("La cotizaci\xf3n se ha restablecido.")}}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-business-renewal-quote"]],viewQuery:function(o,n){if(1&o&&(e.GBs(N,7),e.GBs(q,5)),2&o){let s;e.mGM(s=e.lsd())&&(n.modal=s.first),e.mGM(s=e.lsd())&&(n.toast=s.first)}},standalone:!0,features:[e.aNF],decls:92,vars:50,consts:[["deductibleMount",""],["paymentWay",""],["modal",""],["renewalInsuredSection",""],["toast",""],["id","main-content",1,"main-content-renewal"],["fixed","true"],[1,"renewal-background-header"],[1,"renewal-toolbar"],["slot","start","color","primary"],["defaultHref","/"],[1,"san-color-primary"],["size","12","sizeMd","3",1,"order-1"],["color","success"],["size","12","sizeMd","9"],["size","12","sizeSm","6","sizeMd","4"],["label","Pr\xf3xima prima anual",3,"value","fieldStyle","infoText"],["size","12","sizeSm","6","sizeMd","6"],["label","Pr\xf3ximos deducibles",3,"fieldStyle","value"],["label","Agente",3,"infoText","value","fieldStyle"],["label","Pr\xf3ximo plan",3,"infoText","value"],["label","Pa\xeds",3,"value"],[1,"renewal-options--section","ion-flex-column","ion-margin-bottom","ion-display-flex"],["size","12"],[1,"renewal-quote-title--wrapper","tabs-aspect--wrapper","ion-align-items-center","ion-display-flex"],[1,"renewal-quote-title","tabs-aspect","ion-align-items-center","ion-padding-horizontal"],["data-tooltip-position","right","data-tooltip-max-width","150px","data-tooltip","Haz realizado cambios que no est\xe1n guardados",1,"custom-tooltip"],["size","large","slot","icon-only","color","danger","name","information-circle-outline","class","ion-margin-start",4,"ngIf"],[1,"renewal-options--row","ion-justify-content-between"],["size","12","sizeMd","9",1,"ion-no-padding","order-1","order-lg-0"],["size","12","sizeMd",""],["interface","popover","mode","md","label","Opciones de deducible","label-placement","floating","fill","outline"],[3,"value",4,"ngFor","ngForOf"],["interface","popover","mode","md","label","Forma de pago","label-placement","floating","fill","outline"],["value","anual"],["size","12","sizeMd","auto"],["id","add-insured","mode","ios","fill","outline","color","primary"],["name","add-circle",1,"ion-margin-end"],["trigger","add-insured",2,"--height","auto","--background","transparent","--width","290px",3,"canDismiss"],[1,"renewal-insured--section","ion-padding-bottom","ion-margin-bottom"],[3,"insuredPersonData","togglePersonStatus",4,"ngFor","ngForOf"],["class","renewal-disabled-insured--section ion-padding-bottom ion-margin-bottom",4,"ngIf"],[1,"renewal-cost-ctas--section","ion-padding-bottom","ion-margin-bottom"],[1,"ion-margin-vertical"],[1,"ion-justify-content-center","ion-align-items-center","gap-3"],["size","12","sizeSm","12","sizeMd","3"],["size","12","sizeSm","12","sizeMd","auto"],[1,"san-color-secondary-25","renewal-cost-ctas--section-total"],[1,"nota"],[1,"san-color-secondary-25"],["mode","ios","message","Hay cambios pendientes de guardar.","duration","2000","color","medium","position","top","icon","information-circle-outline"],["size","large","slot","icon-only","color","danger","name","information-circle-outline",1,"ion-margin-start"],[3,"value"],[1,"plan-id"],[1,"sub-options"],["class","sub-option",4,"ngFor","ngForOf"],[1,"sub-option"],[3,"actionButtonTriggered","actionButtonText","persona","showRelationship","relationshipOptions","showName","showLastName"],[3,"togglePersonStatus","insuredPersonData"],[1,"renewal-disabled-insured--section","ion-padding-bottom","ion-margin-bottom"],[3,"insuredPersonData","index","togglePersonStatus",4,"ngFor","ngForOf"],[3,"togglePersonStatus","insuredPersonData","index"]],template:function(o,n){1&o&&(e.j41(0,"ion-content",5)(1,"ion-grid",6)(2,"section",7)(3,"ion-toolbar",8)(4,"ion-buttons",9),e.nrm(5,"ion-back-button",10),e.k0s(),e.j41(6,"ion-title",11),e.EFF(7,"Cotizaci\xf3n de seguro m\xe9dico internacional"),e.k0s()(),e.j41(8,"ion-row")(9,"ion-col",12)(10,"ion-chip",13),e.EFF(11,"Active"),e.k0s(),e.j41(12,"p"),e.EFF(13,"P\xf3liza efectiva hasta febrero 28, 2024"),e.k0s()(),e.j41(14,"ion-col",14)(15,"ion-row")(16,"ion-col",15),e.nrm(17,"app-bupa-field-output",16),e.k0s(),e.j41(18,"ion-col",17),e.nrm(19,"app-bupa-field-output",18),e.k0s(),e.j41(20,"ion-col",15),e.nrm(21,"app-bupa-field-output",19),e.k0s(),e.j41(22,"ion-col",15),e.nrm(23,"app-bupa-field-output",20),e.k0s(),e.j41(24,"ion-col",15),e.nrm(25,"app-bupa-field-output",21),e.k0s()()()()(),e.j41(26,"section",22)(27,"ion-row")(28,"ion-col",23)(29,"div",24)(30,"h3",25),e.EFF(31,"Cotiza tu renovaci\xf3n "),e.j41(32,"span",26),e.DNE(33,H,1,0,"ion-icon",27),e.k0s()()()()(),e.j41(34,"ion-row",28)(35,"ion-col",29)(36,"ion-row")(37,"ion-col",30)(38,"ion-select",31,0),e.DNE(40,K,5,3,"ion-select-option",32),e.k0s()(),e.j41(41,"ion-col",30)(42,"ion-select",33,1)(44,"ion-select-option",34),e.EFF(45,"Anual"),e.k0s()()()()(),e.j41(46,"ion-col",35)(47,"ion-button",36),e.nrm(48,"ion-icon",37),e.EFF(49," Cotizar dependiente "),e.k0s(),e.j41(50,"ion-modal",38,2),e.DNE(52,Z,1,7,"ng-template"),e.k0s()()()(),e.j41(53,"section",39,3),e.DNE(55,ee,1,1,"app-renewal-insured-person",40),e.k0s(),e.DNE(56,te,4,1,"section",41),e.j41(57,"section",42)(58,"h3",43),e.EFF(59),e.k0s(),e.j41(60,"ion-row",44)(61,"ion-col",45)(62,"p"),e.EFF(63),e.j41(64,"strong"),e.EFF(65),e.k0s()(),e.j41(66,"p"),e.EFF(67),e.k0s(),e.j41(68,"p"),e.EFF(69),e.k0s()(),e.j41(70,"ion-col",46)(71,"p"),e.EFF(72),e.k0s(),e.j41(73,"p"),e.EFF(74),e.k0s(),e.j41(75,"p"),e.EFF(76),e.k0s()(),e.j41(77,"ion-col",45)(78,"p",47)(79,"strong"),e.EFF(80),e.k0s()(),e.j41(81,"p"),e.EFF(82),e.k0s(),e.j41(83,"p"),e.EFF(84),e.k0s(),e.j41(85,"p",48)(86,"strong",49),e.EFF(87,"Nota:"),e.k0s(),e.EFF(88),e.k0s()()()()(),e.nrm(89,"ion-toast",50,4),e.k0s(),e.nrm(91,"app-button-actions")),2&o&&(e.R7$(17),e.Y8G("value",e.eq3(36,g,n.renewalData.annualPremium))("fieldStyle",e.lJ4(38,Q))("infoText","Hola mundo"),e.R7$(2),e.Y8G("fieldStyle",e.lJ4(39,v))("value",e.l_i(40,X,n.renewalData.deductibles.outsideCountry,n.renewalData.deductibles.insideCountry)),e.R7$(2),e.Y8G("infoText","Lo que quiero eres t\xfa")("value",e.eq3(43,g,n.renewalData.agent))("fieldStyle",e.lJ4(45,v)),e.R7$(2),e.Y8G("infoText","AMPLIACI\xd3N Y TERMINACI\xd3N DE COBERTURA: La cobertura est\xe1 disponible para los hijos dependientes del Asegurado Titular hasta antes de cumplir los veinticuatro (24) a\xf1os, si son solteros en el momento que la p\xf3liza es emitida o renovada. La cobertura para dichos dependientes contin\xfaa hasta la siguiente fecha de aniversario de la p\xf3liza o la siguiente fecha de vencimiento de pago, la que ocurra primero, despu\xe9s de cumplir los veinticuatro (24) a\xf1os de edad, si son solteros.")("value",e.eq3(46,g,n.renewalData.nextPlan)),e.R7$(2),e.Y8G("value",e.eq3(48,g,n.renewalData.country)),e.R7$(8),e.Y8G("ngIf",n.quoteIsDiffPolice),e.R7$(7),e.Y8G("ngForOf",n.plans),e.R7$(10),e.Y8G("canDismiss",!0),e.R7$(5),e.Y8G("ngForOf",n.activeInsuredPeople),e.R7$(),e.Y8G("ngIf",n.disabledInsuredPeople.length>0),e.R7$(3),e.JRh(n.costosCTAsData.titulo),e.R7$(4),e.SpI("",n.costosCTAsData.columnas.subtotal[0].label,": "),e.R7$(2),e.JRh(n.costosCTAsData.columnas.subtotal[0].valor),e.R7$(2),e.Lme("",n.costosCTAsData.columnas.subtotal[1].label,": ",n.costosCTAsData.columnas.subtotal[1].valor,""),e.R7$(2),e.Lme("",n.costosCTAsData.columnas.subtotal[2].label,": ",n.costosCTAsData.columnas.subtotal[2].valor,""),e.R7$(3),e.Lme("",n.costosCTAsData.columnas.discounts[0].label,": ",n.costosCTAsData.columnas.discounts[0].valor,""),e.R7$(2),e.Lme("",n.costosCTAsData.columnas.discounts[1].label,": ",n.costosCTAsData.columnas.discounts[1].valor,""),e.R7$(2),e.Lme("",n.costosCTAsData.columnas.discounts[2].label,": ",n.costosCTAsData.columnas.discounts[2].valor,""),e.R7$(4),e.Lme("",n.costosCTAsData.columnas.totals.items[0].label,": ",n.costosCTAsData.columnas.totals.items[0].valor,""),e.R7$(2),e.Lme("",n.costosCTAsData.columnas.totals.items[1].label,": ",n.costosCTAsData.columnas.totals.items[1].valor,""),e.R7$(2),e.Lme("",n.costosCTAsData.columnas.totals.items[2].label,": ",n.costosCTAsData.columnas.totals.items[2].valor,""),e.R7$(4),e.SpI(" ",n.costosCTAsData.columnas.totals.nota,""))},dependencies:[u.MD,u.Sq,u.bT,b.iI,r.bv,r.Jm,r.QW,r.ZB,r.hU,r.W9,r.lO,r.iq,r.ln,r.Nm,r.Ip,r.BC,r.op,r.ai,r.Sb,r.Je,r.el,F,h,L,Y.C],styles:['.renewal-background-header[_ngcontent-%COMP%]{background-color:#f7f7f9;padding-block:2rem;padding-inline:1.85rem}.renewal-background-header[_ngcontent-%COMP%]   .renewal-toolbar[_ngcontent-%COMP%]{--background: transparent}.renewal-quote-title--wrapper[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(45deg,#ebeef2,#ebeef2);background-size:100% 2px;background-repeat:repeat-x;background-position:bottom;margin-block-end:2.28rem}.renewal-quote-title--wrapper[_ngcontent-%COMP%]   h3.renewal-quote-title[_ngcontent-%COMP%]{color:var(--san-color-secondary-25);font-size:1.15rem;display:inline-flex;margin:0;height:3.5rem;justify-content:center;border-bottom:2px solid currentColor}  ion-select-popover ion-radio::part(label){white-space:pre-wrap}  .renewal-disabled-insured--section app-renewal-insured-person .insured-people--title h3,   .renewal-disabled-insured--section app-renewal-insured-person app-bupa-field-output ion-label{opacity:.5;color:var(--ion-color-medium)}  .renewal-disabled-insured--section app-renewal-insured-person .insured-people{background-color:var(--ion-color-light-tint)}  .renewal-disabled-insured--section app-renewal-insured-person .insured-people:hover{background-color:var(--ion-color-light-tint)}  app-renewal-insured-person .new-person{border-inline-start:3px solid rgba(var(--ion-color-primary-rgb, 0, 84, 233),.5);background-color:rgba(var(--ion-color-primary-rgb, 0, 84, 233),.15)}.renewal-cost-ctas--section[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding-inline:1.5rem}@media (min-width: 768px){.renewal-cost-ctas--section[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:nth-child(2):after, .renewal-cost-ctas--section[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:nth-child(2):before{content:" ";display:block;width:1px;height:100%;position:absolute;top:0;background-color:#4e5357}.renewal-cost-ctas--section[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:nth-child(2):after{right:0}.renewal-cost-ctas--section[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:nth-child(2):before{left:0}}.renewal-cost-ctas--section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-block:8px}.renewal-cost-ctas--section[_ngcontent-%COMP%]   .renewal-cost-ctas--section-total[_ngcontent-%COMP%]{font-size:1.3rem}']}),a})()}}]);